"""
Core functionality for {{ project_name }}

{{ description }}
"""

from typing import Optional, Dict, List, Any
import logging

logger = logging.getLogger(__name__)


class {{ class_name }}:
    """
    Main class for {{ project_name }}

    {% if features %}
    Features:
    {% for feature in features %}
    - {{ feature }}
    {% endfor %}
    {% endif %}
    """

    def __init__(self, config: Optional[Dict[str, Any]] = None):
        """
        Initialize {{ class_name }}

        Args:
            config: Optional configuration dictionary
        """
        self.config = config or {}
        self._initialized = False
        logger.info(f"Initialized {{ class_name }}")

    def initialize(self) -> None:
        """
        Initialize the {{ project_name }} system

        Performs any necessary setup or validation.
        """
        if self._initialized:
            logger.warning("Already initialized")
            return

        # TODO: Add initialization logic here
        self._initialized = True
        logger.info("Initialization complete")

    {% if features %}
    {% for feature in features[:5] %}
    def {{ feature.lower().replace(' ', '_')[:40] }}(self) -> Any:
        """
        {{ feature }}

        Returns:
            Result of the operation
        """
        if not self._initialized:
            raise RuntimeError("Must call initialize() first")

        logger.info("Executing: {{ feature }}")
        # TODO: Implement {{ feature }}
        raise NotImplementedError("{{ feature }} not yet implemented")

    {% endfor %}
    {% endif %}

    def cleanup(self) -> None:
        """
        Clean up resources

        Should be called when done using {{ class_name }}
        """
        if not self._initialized:
            return

        # TODO: Add cleanup logic here
        self._initialized = False
        logger.info("Cleanup complete")

    def __enter__(self):
        """Context manager entry"""
        self.initialize()
        return self

    def __exit__(self, exc_type, exc_val, exc_tb):
        """Context manager exit"""
        self.cleanup()
        return False
